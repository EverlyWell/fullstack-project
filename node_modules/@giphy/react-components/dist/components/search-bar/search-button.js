"use strict";
var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@emotion/core");
var react_1 = __importStar(require("react"));
var useThrottle_1 = __importDefault(require("react-use/lib/useThrottle"));
var context_1 = require("./context");
var search_icon_1 = __importDefault(require("./search-icon"));
var theme_1 = __importStar(require("./theme"));
var time = '2s';
var purp = '#9933FF';
var pink = '#FF6666';
var strongEasing = 'cubic-bezier(0.920, 0.240, 0.185, 0.730)';
var searchFx = core_1.keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n    0% {\n      transform: rotate(34deg) translate(-10px, 80px);\n    };\n    \n    100% {\n      transform: rotate(34deg) translate(-10px, -20px);\n    }\n"], ["\n    0% {\n      transform: rotate(34deg) translate(-10px, 80px);\n    };\n    \n    100% {\n      transform: rotate(34deg) translate(-10px, -20px);\n    }\n"])));
var plus = core_1.keyframes(templateObject_2 || (templateObject_2 = __makeTemplateObject(["\n    0% { \n      transform: translate(0px, 0px);\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      transform: translate(10px, -17px);\n      opacity: 0;\n    }\n"], ["\n    0% { \n      transform: translate(0px, 0px);\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      transform: translate(10px, -17px);\n      opacity: 0;\n    }\n"])));
var gradientFade = core_1.keyframes(templateObject_3 || (templateObject_3 = __makeTemplateObject(["\n    0% {\n      opacity: 0;\n      transform: translateX(-400%);\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n      transform: translateX(0);\n    }\n"], ["\n    0% {\n      opacity: 0;\n      transform: translateX(-400%);\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n      transform: translateX(0);\n    }\n"])));
var Container = theme_1.default.div(templateObject_4 || (templateObject_4 = __makeTemplateObject(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    cursor: pointer;\n    @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n        display: none;\n    }\n    ", "\n"], ["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    cursor: pointer;\n    @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n        display: none;\n    }\n    ", "\n"])), function (props) { return theme_1.getSize(props.theme, true); });
var GradientBox = theme_1.default.div(templateObject_5 || (templateObject_5 = __makeTemplateObject(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: linear-gradient(45deg, ", " 0%, ", " 100%);\n    overflow: hidden;\n    &:before {\n        animation: ", " ", " linear 0s infinite;\n        background-image: linear-gradient(45deg, ", " 0%, ", " 50%, ", " 100%);\n        background-size: 400%;\n        background-position: 0% 100%;\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width: 400%;\n    }\n"], ["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: linear-gradient(45deg, ", " 0%, ", " 100%);\n    overflow: hidden;\n    &:before {\n        animation: ", " ", " linear 0s infinite;\n        background-image: linear-gradient(45deg, ", " 0%, ", " 50%, ", " 100%);\n        background-size: 400%;\n        background-position: 0% 100%;\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width: 400%;\n    }\n"])), purp, pink, gradientFade, time, purp, pink, purp);
var Fx = theme_1.default.div(templateObject_6 || (templateObject_6 = __makeTemplateObject(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: hidden;\n    &::after {\n        content: '+';\n        color: white;\n        font-family: 'SS Standard';\n        font-size: 8px;\n        position: absolute;\n        top: 65%;\n        left: 66%;\n        animation: ", " 1s ", " 0s 1 forwards;\n    }\n"], ["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: hidden;\n    &::after {\n        content: '+';\n        color: white;\n        font-family: 'SS Standard';\n        font-size: 8px;\n        position: absolute;\n        top: 65%;\n        left: 66%;\n        animation: ", " 1s ", " 0s 1 forwards;\n    }\n"])), plus, strongEasing);
var Scanner = theme_1.default.div(templateObject_7 || (templateObject_7 = __makeTemplateObject(["\n    position: absolute;\n    width: 200%;\n    height: 20px;\n    background: rgba(255, 255, 255, 0.5);\n    transform: rotate(34deg) translate(-10px, -20px);\n    animation: ", " 1s ", " 0s 1;\n    filter: blur(1px);\n"], ["\n    position: absolute;\n    width: 200%;\n    height: 20px;\n    background: rgba(255, 255, 255, 0.5);\n    transform: rotate(34deg) translate(-10px, -20px);\n    animation: ", " 1s ", " 0s 1;\n    filter: blur(1px);\n"])), searchFx, strongEasing);
var SearchIcon = theme_1.default(search_icon_1.default)(templateObject_8 || (templateObject_8 = __makeTemplateObject(["\n    z-index: 1;\n    display: flex;\n    width: 60%;\n    height: 60%;\n"], ["\n    z-index: 1;\n    display: flex;\n    width: 60%;\n    height: 60%;\n"])));
var SearchButton = function () {
    var isFetching = react_1.useContext(context_1.SearchContext).isFetching;
    // let the animation run by throttling isFetching
    var throttledFetch = useThrottle_1.default(isFetching, 1000);
    return (react_1.default.createElement(Container, null,
        react_1.default.createElement(GradientBox, null),
        react_1.default.createElement(SearchIcon, null),
        throttledFetch && (react_1.default.createElement(Fx, null,
            react_1.default.createElement(Scanner, null)))));
};
exports.default = SearchButton;
var templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8;
//# sourceMappingURL=search-button.js.map